-- 8:23 2026/2/9
-- from https://docs.mthreads.com/kuaecloud/kuaecloud-doc-online/coding_plan/tools_config

夸娥云--编程套餐--接入AI编程工具

接入AI编程工具
KUAE Cloud Coding Plan 支持在多款主流编程工具中使用，请参考本文档完成工具配置与使用。

核心配置
使用 Coding Plan 接入方式的核心配置如下。请注意：不同工具配置的 Base URL 不同，请根据您使用的工具进行选择。

兼容 Anthropic 接口协议 Base URL：https://coding-plan-endpoint.kuaecloud.net
适用工具：Claude Code。
兼容 OpenAI 接口协议 Base URL：https://coding-plan-endpoint.kuaecloud.net/v1
适用工具：Cline、Kilo Code、Cursor、Roo Code、OpenCode等。
接入Claude Code
安装步骤
原生安装方式

macOS, Linux 用户输入以下命令进行安装。
curl -fsSL https://claude.ai/install.sh | bash 

Windows 用户在 PowerShell 下输入以下命令进行安装。
irm https://claude.ai/install.ps1 | iex

npm安装方式

系统要求：

安装 Node.js 18 或更高版本。
Windows 用户需安装 Git for Windows。
在命令行界面，执行以下命令安装 Claude Code。

npm install -g @anthropic-ai/claude-code

安装后验证

安装完成后，执行以下命令查看安装结果，若显示版本号则表示安装成功。

claude --version

配置工具
完成 Claude Code 安装后，请配置以下信息。

"ANTHROPIC_BASE_URL"："https://coding-plan-endpoint.kuaecloud.net"
"ANTHROPIC_AUTH_TOKEN"："your_api_key"
"ANTHROPIC_MODEL": "GLM-4.7"
提示
自 Claude Code v2.0.7x 起，环境变量的加载与读取逻辑发生变化，首次登录、执行 logout 后重新登录时，~/.claude/settings.json 中的 env 配置可能不会生效，推荐将环境变量写入 Shell 的启动配置文件中。

MacOS & Linux 环境

在终端执行以下命令查看当前使用的 Shell 类型。

echo $SHELL

根据 Shell 类型配置环境变量。

# SHELL 类型为 zsh，执行以下命令。
nano ~/.zshrc
# SHELL 类型为 bash，执行以下命令。
nano ~/.bashrc

在文件末尾追加以下内容，请将 "your_api_key" 替换为您创建的 API Key，保存并退出编辑。

export ANTHROPIC_BASE_URL="https://coding-plan-endpoint.kuaecloud.net"
export ANTHROPIC_AUTH_TOKEN="your_api_key"
export ANTHROPIC_MODEL="GLM-4.7"

export CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC="1"

# Avoid conflicts with local Anthropic configuration
export ANTHROPIC_API_KEY=""

在终端执行以下命令，使配置生效。

# SHELL 类型为 zsh，执行以下命令。
source ~/.zshrc
# SHELL 类型为 bash，执行以下命令。
source ~/.bashrc

在终端执行以下命令验证环境变量是否生效。

echo $ANTHROPIC_BASE_URL
echo $ANTHROPIC_MODEL

Windows 环境

CMD
在 CMD 中执行以下命令，设置环境变量。

setx ANTHROPIC_AUTH_TOKEN *your_api_key*
setx ANTHROPIC_BASE_URL https://coding-plan-endpoint.kuaecloud.net
setx ANTHROPIC_MODEL GLM-4.7

在新的 CMD 窗口执行以下命令，检查环境变量是否生效。

echo %ANTHROPIC_AUTH_TOKEN%
echo %ANTHROPIC_BASE_URL%
echo %ANTHROPIC_MODEL%

PowerShell
在 PowerShell 中执行以下命令，设置环境变量。

[System.Environment]::SetEnvironmentVariable('ANTHROPIC_AUTH_TOKEN', '*your_api_key*', 'User')
[System.Environment]::SetEnvironmentVariable('ANTHROPIC_BASE_URL', 'https://coding-plan-endpoint.kuaecloud.net', 'User')
[System.Environment]::SetEnvironmentVariable('ANTHROPIC_MODEL', 'GLM-4.7', 'User')

在新的 PowerShell 窗口执行以下命令，检查环境变量是否生效。

echo $env:ANTHROPIC_AUTH_TOKEN
echo $env:ANTHROPIC_BASE_URL
echo $env:ANTHROPIC_MODEL

使用 Claude Code
启动 Claude Code：进入项目目录，执行 claude 命令，即可开始使用 Claude Code。

cd my-project
claude

模型状态验证：输入 /status 确认模型状态。 如果提示信息如下，可能是由于之前已登录过 Claude Code，可输入 /logout 退出登录，然后再启动 Claude Code。

{
    "error": {
        "code": "AuthenticationError",
        "message": "The API key format is incorrect. Request id:0217xxxxxxx",
        "param": "",
        "type": "Unauthorized"
    }
}

接入Cline
安装步骤
打开 VSCode，在扩展市场搜索 Cline 安装。

配置工具
Cline 插件安装完成后，您需要配置以下信息。

API Provider：OpenAI Compatible（Coding Plan 接口兼容 OpenAI 标准）
Base URL：https://coding-plan-endpoint.kuaecloud.net/v1
API Key：your_api_key
Model ID：GLM-4.7
配置完成后，就可以在输入框中输入需求，与模型进行交互。

接入Cursor
安装步骤
官网下载安装包：通过Cursor官网下载并安装 Cursor。

配置工具
Cursor 安装完成后，需要登录付费账户才支持配置 Models。Models 模块的具体配置如下：

OpenAI API Key：your_api_key
Override OpenAI Base URL：https://coding-plan-endpoint.kuaecloud.net/v1
Add Custom Model：GLM-4.7
配置完成后，即可在聊天面板中选择配置的模型进行交互。

接入Kilo Code
安装步骤
打开 VSCode，在扩展市场搜索 kilo code 进行安装，安装完成后选择信任发布者。

配置工具
选择 Use your own API key，然后配置以下信息。

API Provider：OpenAI Compatible
Base URL：https://coding-plan-endpoint.kuaecloud.net/v1 （勾选 Use custom base URL）
API Key：your_api_key
Model：GLM-4.7
配置完成后，就可以在输入框中输入需求，与模型进行交互。

接入Roo Code
安装步骤
打开 VSCode，在扩展市场搜索 Roo Code 进行安装，安装完成后选择信任发布者。

配置工具
安装完成后，配置以下信息。

API Provider：OpenAI Compatible（Coding Plan 接口兼容 OpenAI 标准）
Base URL：https://coding-plan-endpoint.kuaecloud.net/v1
API Key：your_api_key
Model：GLM-4.7
配置完成后，就可以在输入框中输入需求，与模型进行交互。

接入OpenCode
安装步骤
在命令行界面，执行以下命令安装 OpenCode。

npm install -g opencode-ai

安装完成后，执行以下命令查看安装结果，若显示版本号则表示安装成功。

opencode --version

配置工具
编辑 OpenCode 的配置文件 ~/.config/opencode/opencode.json。注意：在 Windows 系统下，如果通过 npm 安装并使用 opencode，需要在路径 C:\Users\[用户名]\AppData\Roaming\npm\ 下创建 opencode.json 文件。
提示
请将配置信息中的 your_api_key 替换为您的实际 API Key。

{
  "$schema": "https://opencode.ai/config.json",
  "provider": {
    "myprovider": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "kuaecloud",
      "options": {
        "baseURL": "https://coding-plan-endpoint.kuaecloud.net/v1",
        "apiKey": "your_api_key"
      },
      "models": {
        "GLM-4.7": {
          "name": "GLM-4.7"
        }
      }
    }
  }
}

开始使用
启动 OpenCode：

opencode

输入 /models，选择配置的 GLM-4.7 模型并在 OpenCode 中使用。

常见问题
在 OpenCode 中如何开启深度思考模式？
编辑 OpenCode 的配置文件 ~/.config/opencode/opencode.json，在 GLM-4.7 模型配置中新增 options 配置，内容为 {"thinking": {"type": "enabled"}}。参考示例如下：
{
    "$schema": "https://opencode.ai/config.json",
    "provider": {
        "myprovider": {
            "npm": "@ai-sdk/openai-compatible",
            "name": "kuaecloud",
            "options": {
                "baseURL": "https://coding-plan-endpoint.kuaecloud.net/v1",
                "apiKey": "your_api_key"
            },
            "models": {
                "GLM-4.7": {
                    "name": "GLM-4.7",
                    "options": {
                        "thinking": {
                            "type": "enabled"
                        }
                    }
                }
            }
        }
    }
}

配置完成后执行命令 opencode 重新启动。如果在对话时仍看不到 Thinking 信息，可以在输入框按 ctrl+p，搜索 think，选中 Show thinking，则可以查看思考的信息。